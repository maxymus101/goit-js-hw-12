import{a as B,S as L,i as l}from"./assets/vendor-lDhL-8I6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();const w="49484278-b8d1b278e9cf12a9e395a9aea",b="https://pixabay.com/api/";async function m(s,r){try{const e=await B.get(b,{params:{key:w,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:15}});return{hits:e.data.hits,totalHits:e.data.totalHits}}catch(e){throw console.error("Помилка запиту:",e),e}}const f=document.querySelector(".gallery"),h=document.querySelector(".loader"),g=document.querySelector(".load-more");let u;function F(s){if(s.length===0){f.innerHTML="",n();return}const r=document.createDocumentFragment();s.forEach(e=>{const i=document.createElement("li");i.classList.add("gallery-item");const t=document.createElement("a");t.href=e.largeImageURL,t.dataset.caption=e.tags;const o=document.createElement("img");o.src=e.webformatURL,o.alt=e.tags;const a=document.createElement("div");a.classList.add("image-stats"),a.innerHTML=`
            <div><p class="stat-title">Likes</p><p class="stat-text">${e.likes}</p></div>
            <div><p class="stat-title">Views</p><p class="stat-text">${e.views}</p></div>
            <div><p class="stat-title">Comments</p><p class="stat-text">${e.comments}</p></div>
            <div><p class="stat-title">Downloads</p><p class="stat-text">${e.downloads}</p></div>
        `,t.appendChild(o),i.appendChild(t),i.appendChild(a),r.appendChild(i)}),f.appendChild(r);try{u?u.refresh():u=new L(".gallery a",{captionsData:"alt",captionDelay:250})}catch(e){console.error("Помилка SimpleLightbox:",e)}}function d(){f.innerHTML=""}function y(){h.style.display="inline-flex"}function C(){h.style.display="none"}function v(){g.classList.remove("is-hidden")}function n(){g.classList.add("is-hidden")}const x=document.querySelector(".form"),S=document.querySelector('input[name="search-text"]');let c=1,p="";x.addEventListener("submit",async s=>{s.preventDefault();const r=S.value.trim();if(r===""){d(),n(),l.error({title:"",titleColor:"#FFFFFF",iconColor:"#fffff",iconUrl:"./img/svg/wn-ic.svg",messageColor:"#FFFFFF",backgroundColor:"#ef4040",position:"topRight",progressBar:!0,progressBarColor:" #B51B1B",closeOnClick:!0,timeout:3500,message:"Будь ласка, заповніть поле для вводу!"});return}c=1,p=r,n(),d(),y();try{const e=await m(p,c);e.hits.length===0?(d(),l.error({title:"",titleColor:"#FFFFFF",iconColor:"#fffff",iconUrl:"../img/svg/wn-ic.svg",messageColor:"#FFFFFF",backgroundColor:"#ef4040",position:"topRight",progressBar:!0,progressBarColor:" #B51B1B",closeOnClick:!0,timeout:3500,message:"Вибачте, за вашим запитом нічого не знайдено."}),n()):(F(e.hits),c*15>=e.totalHits?(n(),l.info({title:"",message:"We're sorry, but you've reached the end of search results."})):v())}catch{d(),l.error({title:"",titleColor:"#FFFFFF",iconColor:"#fffff",iconUrl:"../img/svg/wn-ic.svg",messageColor:"#FFFFFF",backgroundColor:"#ef4040",position:"topRight",progressBar:!0,progressBarColor:" #B51B1B",closeOnClick:!0,timeout:3500,message:"Виникла помилка при завантаженні зображень. Спробуйте ще раз."}),n()}finally{C()}});g.addEventListener("click",async()=>{c+=1,y();try{const s=await m(p,c);F(s.hits),v();const{height:r}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"}),c*15>=s.totalHits&&(n(),l.info({title:"",message:"We're sorry, but you've reached the end of search results."}))}catch{d(),l.error({title:"",titleColor:"#FFFFFF",iconColor:"#fffff",iconUrl:"../img/svg/wn-ic.svg",messageColor:"#FFFFFF",backgroundColor:"#ef4040",position:"topRight",progressBar:!0,progressBarColor:" #B51B1B",closeOnClick:!0,timeout:3500,message:"Виникла помилка при завантаженні зображень. Спробуйте ще раз."})}finally{C()}});
//# sourceMappingURL=index.js.map
